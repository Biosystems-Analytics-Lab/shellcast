{% extends "base.html.jinja" %}

{% block title %}Preferences - ShellCast{% endblock %}

{% block additional_head %}
  <!-- FirebaseUI CSS -->
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

  <!-- FirebaseUI JS -->
  <script defer src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>

  <!-- Custom JS -->
  <script defer src="{{ url_for('static', filename='preferences.js') }}"></script>
  <!-- Custom CSS -->
  <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='preferences.css') }}">
{% endblock %}

{% block content %}
  <h1 class="page-main-header">Preferences</h1>

  <div id="user-signed-out" style="display: none">
    <p>Creating an account with ShellCast allows you to add your own lease information and receive personalized notifications about potential lease closures.</p>
    <a role="button" class="btn btn-primary" id="sign-in" href="/signin?mode=select&signInSuccessUrl=/preferences">Sign in</a>
  </div>

  <div id="user-signed-in" style="display: none">
    <div id="forms">

      {# Generic profile information #}
      <form class="needs-validation mb-4">
        <h4>My profile information</h4>
        <div class="mb-3">
          <label for="firstName">First name</label>
          <input type="text" class="form-control" id="firstName" placeholder="First name" value="Bob" readonly>
        </div>

        <div class="mb-3">
          <label for="lastName">Last name</label>
          <input type="text" class="form-control" id="lastName" placeholder="Last name" value="Smith" readonly>
        </div>

        <div class="mb-3">
          <label for="email">Email address</label>
          <input type="email" class="form-control" id="email" placeholder="you@example.com" aria-describedby="emailHelp">
          <div class="invalid-feedback">
            Please enter a valid email address for shipping updates.
          </div>
          <small id="emailHelp" class="form-text text-muted">
            This email address will be used for account updates as well as probable closure notifications (if you opt into them below).
          </small>
        </div>

        <div class="mb-3">
          <label for="phone">Mobile phone number</label>
          <div class="input-group">
            <div class="input-group-prepend"><div class="input-group-text">+1</div></div>
            <input type="tel" class="form-control" id="phone" pattern="\d{10}" placeholder="1112223333" aria-describedby="phoneHelp">
            <div class="invalid-feedback" style="width: 100%;">
              Please enter a valid phone number.
            </div>
            <small id="phoneHelp" class="form-text text-muted" style="width: 100%;">
              This phone number must be able to receive text (SMS/MMS) messages. This phone number will receive probable closure notifications if you opt into them below.
            </small>
          </div>
        </div>

        <div style="text-align: right;">
          <button class="btn btn-primary" type="submit">Save</button>
        </div>
      </form>

      {# Lease preferences #}
      <h4>My leases</h4>
      <p>You can add a lease by searching for it by its NCDMF ID.</p>

      <div class="mb-3 search-bar">
        <div class="input-group">
          <input type="text" class="form-control search-input" placeholder="Add a lease by searching for it by its NCDMF ID..." aria-label="Add a lease by searching for it by its NCDMF ID" aria-describedby="lease-search-btn">
          <div class="input-group-append">
            <button class="btn btn-primary search-btn" type="button" id="lease-search-btn">Search</button>
          </div>
        </div>

        <div class="list-group search-results" id="lease-search-results">
          <button type="button" class="list-group-item list-group-item-action">684</button>
          <button type="button" class="list-group-item list-group-item-action">4-C-89</button>
          <button type="button" class="list-group-item list-group-item-action">9613</button>
          <button type="button" class="list-group-item list-group-item-action">1860139</button>
          <button type="button" class="list-group-item list-group-item-action">1948054</button>
        </div>
      </div>

      <div id="leases">
        <div class="accordion" id="leases-accordion">

          {# Lease 0 #}
          <div class="card">
            <div class="card-header" id="heading0">
              <h2 class="mb-0">
                <button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse" data-target="#collapse0" aria-expanded="false" aria-controls="collapse0">
                  Lease: 4-C-89
                </button>
              </h2>
            </div>

            <div id="collapse0" class="collapse" aria-labelledby="heading0" data-parent="#leases-accordion">
              <div class="card-body">
                <form class="needs-validation mb-4">
                  <div class="mb-3 inline-text-input">
                    <label for="lease0-lease-id">Lease ID</label>
                    <input type="text" class="form-control" id="lease0-lease-id" value="4-C-89" readonly>
                  </div>

                  <div class="mb-3">
                    <label for="lease0-grow-area">Grow Area</label>
                    <input type="text" class="form-control" id="lease0-grow-area" value="A03" readonly>
                  </div>

                  <div class="mb-3">
                    <label for="lease0-rainfall-threshold">Rainfall Threshold</label>
                    <input type="text" class="form-control" id="lease0-rainfall-threshold" value="1.5 in" readonly>
                  </div>

                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="lease0-enable-notifications" value="true">
                    <label class="form-check-label" for="lease0-enable-notifications">Enable notifications</label>
                  </div>

                  <div class="notification-options" id="lease0-notification-options">
                    <label>Notification Type</label>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="checkbox" id="lease0-email" value="" disabled>
                      <label class="form-check-label" for="lease0-email">Email</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="checkbox" id="lease0-text" value="" disabled>
                      <label class="form-check-label" for="lease0-text">Text</label>
                    </div>
                    <small id="notification-window-help" class="form-text text-muted">
                      Choose whether you want to receive email and/or text notifications for this lease.
                    </small>

                    <label>Notification Probability</label>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="lease0-notification-prob" id="lease0-notification-prob-60" value="60">
                      <label class="form-check-label" for="lease0-notification-prob-60">60 %</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="lease0-notification-prob" id="lease0-notification-prob-75" value="75">
                      <label class="form-check-label" for="lease0-notification-prob-75">75 %</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="lease0-notification-prob" id="lease0-notification-prob-90" value="90">
                      <label class="form-check-label" for="lease0-notification-prob-90">90 %</label>
                    </div>
                    <small id="notification-window-help" class="form-text text-muted">
                      The minimum probability that you want to be notified at for this lease.
                    </small>

                    <label>Notification Window</label>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="lease0-notification-window" id="lease0-notification-window-1" value="1">
                      <label class="form-check-label" for="lease0-notification-window-1">1-day</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="lease0-notification-window" id="lease0-notification-window-2" value="2">
                      <label class="form-check-label" for="lease0-notification-window-2">2-day</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input class="form-check-input" type="radio" name="lease0-notification-window" id="lease0-notification-window-3" value="3">
                      <label class="form-check-label" for="lease0-notification-window-3">3-day</label>
                    </div>
                    <small id="notification-window-help" class="form-text text-muted">
                      The period of time over which a closure probability is calculated for this lease.
                    </small>
                  </div>

                  <div style="text-align: right;">
                    <button class="btn btn-primary" type="button" id="lease0-save-btn">Save</button>
                  </div>
                </form>
              </div>
            </div>
          </div>


          <div class="card">
            <div class="card-header" id="headingTwo">
              <h2 class="mb-0">
                <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                  Lease: 819401
                </button>
              </h2>
            </div>
            <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#leases-accordion">
              <div class="card-body">
                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
              </div>
            </div>
          </div>


          <div class="card">
            <div class="card-header" id="headingThree">
              <h2 class="mb-0">
                <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                  Lease: 82-389B
                </button>
              </h2>
            </div>
            <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#leases-accordion">
              <div class="card-body">
                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
{% endblock %}
